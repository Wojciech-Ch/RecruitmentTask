<ng-container *ngIf="viewModel$ | async as viewModel">
  <ng-container [ngSwitch]="viewModel.saveSate">
    <div class="address-modal-wrapper" *ngSwitchCase="'idle'">
      <form [formGroup]="form" (ngSubmit)="saveAddress()">
        <h1>{{ "ADD_A_SPECIAL_ADDRESS" | translate }}</h1>

        <mat-progress-bar
          mode="determinate"
          [value]="progress"
        ></mat-progress-bar>

        <mat-form-field appearance="fill" id="type-select">
          <mat-label>{{ "SELECT_AN_ADDRESS_TYPE" | translate }}</mat-label>
          <mat-select [formControl]="form.controls.addressType">
            <mat-option value="Adres główny">{{
              "MAIN_ADDRESS" | translate
            }}</mat-option>
            <mat-option value="Adres punktu teleportacji">{{
              "TELEPORTATION_POINT_ADDRESS" | translate
            }}</mat-option>
            <mat-option value="Inny adres">{{
              "DIFFERENT_ADDRESS" | translate
            }}</mat-option>
          </mat-select>
        </mat-form-field>
        <div>{{ "COMPLETE_THE_DATA" | translate }}</div>
        <div class="form-wrapper">
          <mat-form-field appearance="fill">
            <mat-label>{{ "PLANET_NAME" | translate }}</mat-label>
            <input
              matInput
              type="text"
              [formControl]="form.controls.addressName"
            />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>{{ "ZIP_CODE" | translate }}</mat-label>
            <input matInput type="text" [formControl]="form.controls.zipCode" />
          </mat-form-field>
        </div>
        <div class="form-wrapper">
          <mat-form-field appearance="fill">
            <mat-label>{{ "TOWN" | translate }}</mat-label>
            <input matInput type="text" [formControl]="form.controls.place" />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>{{ "STREET" | translate }}</mat-label>
            <input matInput type="text" [formControl]="form.controls.street" />
          </mat-form-field>
        </div>
        <div class="form-wrapper">
          <mat-form-field appearance="fill">
            <mat-label>{{ "NUMBER_OF_THE_BUILDING" | translate }}</mat-label>
            <input
              matInput
              type="number"
              [formControl]="form.controls.buildingNumber"
            />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>{{ "APARTMENT_NUMBER" | translate }}</mat-label>
            <input
              matInput
              type="number"
              [formControl]="form.controls.apartmentNumber"
            />
          </mat-form-field>
        </div>

        <div class="form-button-wrapper">
          <button
            mat-stroked-button
            type="button"
            (click)="closeModal()"
            class="form-button"
          >
            {{ "CANCEL" | translate }}
          </button>
          <button mat-stroked-button class="form-button-save">
            {{ "SAVE" | translate }}
          </button>
        </div>
      </form>
    </div>

    <div *ngSwitchCase="'saved'">
      <div class="address-modal-wrapper-nav">
        <div class="address-modal-header-wrapper">
          <img class="green-tick-icon" src="assets/svg/green_tick.png" alt="success green tick" />
          <h1>
            {{ "GRATZ" | translate }}
            {{ (isEdit ? "EDITED" : "CREATED") | translate }}
            {{ "SPECIAL_ADDRESS" | translate }}.
          </h1>
        </div>
        <div class="navigation-buttons">
          <button class="form-button-dashboard" (click)="backToDashboard()">
            {{ "GO_BACK_TO_THE_DASHBOARD" | translate }}
          </button>
          <button class="form-button-save" (click)="closeModal()">
            {{ "GO_BACK_TO_THE_LIST" | translate }}
          </button>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>
